language: haskell

install:
    - sudo apt-get -q -y install hlint
    - cabal configure -fWerror --enable-tests
    - cabal build

script:
    - cabal test && hlint Control

notifications:
    irc:
        channels:
            - "irc.freenode.org#danr"
        template:
            - "[%{build_number}] %{repository} (%{commit}): %{message}"
            - "Build details: %{build_url}"
